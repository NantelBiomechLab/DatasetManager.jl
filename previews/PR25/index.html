<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · DatasetManager.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://NantelBiomechLab.github.io/DatasetManager.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/css/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>DatasetManager.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li><li><span class="tocitem">Concepts</span><ul><li><a class="tocitem" href="concepts/sources/">Sources</a></li></ul></li><li><a class="tocitem" href="julia-reference/">Julia Reference</a></li><li><a class="tocitem" href="matlab-reference/">MATLAB Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/NantelBiomechLab/DatasetManager.jl/blob/master/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="DatasetManager"><a class="docs-heading-anchor" href="#DatasetManager">DatasetManager</a><a id="DatasetManager-1"></a><a class="docs-heading-anchor-permalink" href="#DatasetManager" title="Permalink"></a></h1><p>Find your data, summarize high-level characteristics, analyze it, and collect the results for statistical testing!</p><pre><code class="language-julia-repl hljs" style="display:block;"><span class="hljs-meta">julia&gt;</span><span class="language-julia"> <span class="hljs-keyword">using</span> DatasetManager, DataFrames, CSV, Statistics</span>
</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;"><span class="hljs-meta">julia&gt;</span><span class="language-julia"> trials <span class="hljs-keyword">=</span> <span class="hljs-built_in">findtrials</span>(subsets, conds;
           ignorefiles<span class="hljs-keyword">=</span>[<span class="hljs-built_in">joinpath</span>(datadir, <span class="hljs-string">&quot;ID4_3_stim-02.csv&quot;</span>)]);</span>
</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;"><span class="hljs-meta">julia&gt;</span><span class="language-julia"> <span class="hljs-built_in">summarize</span>(trials)</span>
</code><code class="nohighlight hljs ansi" style="display:block;">Subjects:
 └ 10: &quot;1&quot;  &quot;2&quot;  &quot;3&quot;  &quot;4&quot;  &quot;5&quot;  &quot;6&quot;  &quot;7&quot;  &quot;8&quot;  &quot;9&quot;  &quot;10&quot;
Trials:
 ├ 40 trials
 └ Trials per subject:
   └ 4: 10 subjects (100%)
Conditions:
 ├ Observed levels:
 │ ├ stim =&gt; [&quot;placebo&quot;, &quot;stim&quot;]
 │ └ session =&gt; [1, 2]
 └ Unique level combinations observed: 4 (full factorial)
        stim │ session │ # trials
    ─────────┼─────────┼──────────
     placebo │       1 │ 10
        stim │       1 │ 10
     placebo │       2 │ 10
        stim │       2 │ 10
Sources:
 └ &quot;events&quot; =&gt; Source{Main.GaitEvents}, 40 trials (100%)</code><br/><code class="language-julia-repl hljs" style="display:block;"><span class="hljs-meta">julia&gt;</span><span class="language-julia"> analysis_results <span class="hljs-keyword">=</span> <span class="hljs-built_in">analyzedataset</span>(trials, <span class="hljs-type">Source{GaitEvents}</span>) <span class="hljs-keyword">do</span> trial
           events <span class="hljs-keyword">=</span> CSV<span class="hljs-built_in">.</span><span class="hljs-built_in">File</span>(<span class="hljs-built_in">sourcepath</span>(<span class="hljs-built_in">getsource</span>(trial, <span class="hljs-string">&quot;events&quot;</span>))) <span class="hljs-built_in">|</span><span class="hljs-built_in">&gt;</span> DataFrame
           res <span class="hljs-keyword">=</span> <span class="hljs-built_in">SegmentResult</span>(<span class="hljs-built_in">Segment</span>(trial, <span class="hljs-string">&quot;events&quot;</span>))
           <span class="hljs-built_in">results</span>(res)[<span class="hljs-string">&quot;avg_stride&quot;</span>] <span class="hljs-keyword">=</span> <span class="hljs-built_in">mean</span>(<span class="hljs-built_in">diff</span>(events[<span class="hljs-built_in">!</span>, <span class="hljs-string">&quot;RHS&quot;</span>]))
       
           <span class="hljs-keyword">return</span> res
       <span class="hljs-keyword">end</span>;</span>
</code><code class="nohighlight hljs ansi" style="display:block;">Analyzing trials...   5%|█▌                             |  ETA: 0:03:02Analyzing trials... 100%|███████████████████████████████| Time: 0:00:09</code><br/><code class="language-julia-repl hljs" style="display:block;"><span class="hljs-meta">julia&gt;</span><span class="language-julia"> df <span class="hljs-keyword">=</span> DatasetManager<span class="hljs-built_in">.</span><span class="hljs-built_in">stack</span>(analysis_results, conds)</span>
</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: KeyError: key :subject not found</code></pre><p>DatasetManager was designed to solve several common problems when working with new datasets from human subjects research studies with the overall goal of reducing the amount of repetitive and custom code needed for new research by providing a flexible framework that can work with many different datasets.</p><p>The core functionality of DatasetManager eases the analysis of a new dataset by allowing the researcher to describe the dataset (e.g. the locations of the various sources of data, naming formats, etc) and then finding all the trials and associated metadata (e.g. unique subject ID, trial conditions, etc) in the dataset. Additional functionality includes the ability to define segments of the timeseries of a trial and attach experimental conditions specific to those segments, and a user-extensible common interface for reading/loading different sources of data based on the data type.</p><h3 id="Key-functionality"><a class="docs-heading-anchor" href="#Key-functionality">Key functionality</a><a id="Key-functionality-1"></a><a class="docs-heading-anchor-permalink" href="#Key-functionality" title="Permalink"></a></h3><ul><li><p>The <code>findtrials</code> function returns a list of every trial in the dataset when given a description of how and where the data is stored, paving the way for batch processing of the dataset.</p><ul><li>Most datasets have a unique organization and structure to how and where the data is stored on disk. Similarly, many datasets will use different naming schemes for trials and experimental conditions, based on the needs of the study and the preferences of the researcher. These unique aspects of each dataset normally require writing custom code to find and interpret the naming for every new dataset, which wastes valuable time the researcher could be spending developing analyses or interpreting results.</li></ul></li><li><p>Data <code>Source</code>s allow the researcher to define a standard function for reading (and even generating/transforming) a particular type of data (e.g. a file type/extension, or a specifically formatted <code>.csv</code>, etc).</p><ul><li>Datasets often have more than one source of data per trial (e.g. if multiple systems were used to collect different kinds of data, such as EMG and motion capture). These different kinds of data require special code to load them for analysis. Furthermore, even within the same file extension (e.g. <code>.csv</code>), files can have different data organization (e.g. the number of lines in the header) which would benefit from special handling; these differences can challenge the use of file extension as the basis for choosing which function is appropriate for reading a particular file.</li></ul></li><li><p><code>Segment</code>s describe a specific interval (the start time and end time) within a given trial and any experimental conditions specific to that interval of time.</p><ul><li>Oftentimes, the entirety of a trial may not be needed, such as if the first part of a trial isn&#39;t used, or if a trial contains multiple different experimental conditions applied at different intervals throughout the duration of the trial.</li></ul></li><li><p>The <code>analyzedataset</code> function will batch process (with multiple threads if available) all trials or segments using any given analysis function.</p></li><li><p>Collect analysis results and all trial metadata (subject ID&#39;s, conditions, etc) into a <code>DataFrame</code> using <a href="julia-reference/#DatasetManager.stack"><code>DatasetManager.stack</code></a><sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></p></li></ul><h3 id="Limitations"><a class="docs-heading-anchor" href="#Limitations">Limitations</a><a id="Limitations-1"></a><a class="docs-heading-anchor-permalink" href="#Limitations" title="Permalink"></a></h3><p>The <code>findtrials</code> function currently requires all the desired trial metadata (e.g. subject identifier, experimental conditions, etc) to be present in the absolute path of every trial. The ability to find trial metadata in alternate formats or locations (e.g. trial metadata is stored in separate files) is a feature we plan to add in the future.</p><p>Different sources are collated into a single trial when the subject identifier and all experiemental conditions match. Duplicate trials (in terms of identical experimental conditions and subject ID with no other distinguishing elements) are not currently supported.</p><p>Please open an <a href="https://github.com/NantelBiomechLab/DatasetManager.jl/issues/new">issue</a> if you have a request for a feature that would be a good fit for this package, or if you have any issues using this package.</p><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a><code>DatasetManager.stack</code> is not exported due to a naming conflict with the <code>stack</code> function in <code>DataFrames.jl</code>.</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="concepts/sources/">Sources »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.21 on <span class="colophon-date" title="Wednesday 13 July 2022 17:37">Wednesday 13 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
